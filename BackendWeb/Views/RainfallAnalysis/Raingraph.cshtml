@using DBClassLibrary.UserDataAccessLayer;
@using DBClassLibrary.UserDomainLayer.ReservoirModel;

@{
    // int type = ViewBag.type;
    int type = 1;
}

@section header{
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
          rel="stylesheet">
    <link href="~/JSLib/datepicker-master/datepicker.css" rel="stylesheet" />
    <link href="~/SCSS/Views/Reservoir/DataTable/PageStyle.min.css" rel="stylesheet" />
}

<div class="page-body">
    <div class="container-xl">
        <div class="row row-cards">
            <!--PageContent-->
            <!--設定-->

            <div class="col-md-12">
                <div class="card">
                    <ul class="nav nav-tabs" data-bs-toggle="tabs">
                        <li class="nav-item">
                            <a href="#tabs-home-9" class="nav-link active" data-bs-toggle="tab">
                                <!-- Download SVG icon from http://tabler-icons.io/i/home -->
                                <img src="~/Img/集水區.png" style="width:32px;height:32px" />
                                水庫
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#tabs-profile-9" class="nav-link" data-bs-toggle="tab">
                                <!-- Download SVG icon from http://tabler-icons.io/i/user -->
                                <img src="~/Img/管理處.png" style="width:32px;height:32px" />
                                管理處
                            </a>
                        </li>
                    </ul>
                    <div class="card-body">
                        <div class="tab-content">
                            <div class="tab-pane active show" id="tabs-home-9">
                                <div class="row g-2 align-items-center mb-3">
                                    <div class="col-12 col-xl-1 w-auto font-weight-bold">選擇區域</div>
                                    <div class="col-12 col-xl-2 col-sm-4 col-md-2 col-xl">
                                        <select name="Dll_Reservoir" class="form-select" id="Dll_Reservoir">
                                        </select>
                                    </div>
                                    <div class="col-12 col-xl-1 w-auto font-weight-bold">統計日期</div>
                                    <div class="col-12 col-xl-6 col-sm-4 col-md-2 col-xl">
                                        <div id="DateTimeSelectionPart" class="option">


                                            <div class="input-icon">
                                                <input class="form-control" placeholder="Select a date" id="StartDate1">
                                                <span class="input-icon-addon">
                                                    <!-- Download SVG icon from http://tabler-icons.io/i/calendar-->
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>


                                                </span>
                                            </div>
                                            至　

                                            <div class="input-icon">
                                                <input class="form-control" placeholder="Select a date" id="EndDate1">
                                                <span class="input-icon-addon">
                                                    <!-- Download SVG icon from http://tabler-icons.io/i/calendar -->
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>
                                                </span>
                                            </div>

                                            @*<div class="Query-Part">
                                                <div id="BtnQuery" class="btn btn-primary pull-right" style=" float: right;">查詢</div>
                                                </div>*@
                                        </div>
                                    </div>
                                    <div class="col-12 col-xl-2 ">
                                        <div class="form-selectgroup">
                                            <label class="form-selectgroup-item">
                                                <input id="BtnQuery_1" type="button" name="icons" value="home" class="form-selectgroup-input" checked="">
                                                <span class="form-selectgroup-label">
                                                    查詢
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="tabs-profile-9">
                                <div class="row g-2 align-items-center mb-3">
                                    <div class="col-1">選擇區域</div>
                                    <div class="col-1">
                                        <select name="Dll_Irragation" class="form-select" id="Dll_Irragation">
                                        </select>
                                    </div>
                                    <div class="col-1">
                                        <select name="Dll_Station" class="form-select" id="Dll_Station">
                                        </select>
                                    </div>
                                    <div class="col-1">統計日期</div>
                                    <div class="col-6">
                                        <div id="DateTimeSelectionPart1" class="option row col-xl-4 m-0" style="align-items: baseline; flex-wrap: nowrap;">

                                            <div class="input-icon">
                                                <input class="form-control" placeholder="Select a date" id="StartDate2">
                                                <span class="input-icon-addon">
                                                    <!-- Download SVG icon from http://tabler-icons.io/i/calendar -->
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>
                                                </span>
                                            </div>
                                            至　

                                            <div class="input-icon">
                                                <input class="form-control" placeholder="Select a date" id="EndDate2">
                                                <span class="input-icon-addon">
                                                    <!-- Download SVG icon from http://tabler-icons.io/i/calendar -->
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>
                                                </span>
                                            </div>

                                            @*<div class="Query-Part">
                                                <div id="BtnQuery" class="btn btn-primary pull-right" style=" float: right;">查詢</div>
                                                </div>*@
                                        </div>
                                    </div>
                                    <div class="col-1">
                                        <div class="form-selectgroup">
                                            <label class="form-selectgroup-item">
                                                <input id="BtnQuery_2" type="button" name="icons" value="home" class="form-selectgroup-input" checked="">
                                                <span class="form-selectgroup-label">
                                                    查詢
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-2">
            <div class="card-body">
                <div class="d-flex justify-content-center">
                    <h3 class="card-title align-content-center" id="chartTitle"></h3>
                </div>
                <div class="chart-Part">
                    <div id="chart-container" class="echarts" style="width: 100%;height:500px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>








@section Scripts {
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" type="text/javascript"></script>
    <script type="text/javascript" src=" https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.16.0/dist/locale/bootstrap-table-zh-TW.min.js"></script>
    <script src="~/JSLib/datepicker-master/datepicker.js"></script>
    @*<script src="~/JSLib/datepicker-master/datepicker.min.js"></script>*@
    <script src="~/JSLib/datepicker-master/ROCdatepicker.js"></script>
    @*<script src="~/JSLib/datepicker-master/datepicker.js"></script>*@
    <script src="~/JSLib/datepicker-master/datepicker.zh-CN.js"></script>
    <script src="~/JSLib/LINQ/JSLINQ.js"></script>
    <script src="~/JSLib/LINQ/linq.min.js"></script>
    <script src="~/JSLib/echart/echarts.min.js"></script>
    <script src="~/JSLib/echart/echarts-theme.js"></script>
    @*<script src="~/Scripts/MyTool/MyDateTool.js"></script>*@
    <script src="~/Scripts/MyTool/MyDataTool.js"></script>
    <script src="~/Scripts/MyTool/MyPopoverTool.js"></script>
    <script src="~/Scripts/Ajax/ReservoirAjax.js"></script>
    <script src="~/Scripts/View/Reservoir/ChartBuilderClass.js?20220823"></script>
    <script src="~/Scripts/View/Reservoir/DataTable.js?20220823"></script>
    <script src="~/Scripts/View/Reservoir/Raingraph.js?20220823"></script>

    <script>
        var ajax_src = {
            GetHistoryReservoirDataRank: "@Url.Action("GetHistoryReservoirDataRank", "Reservoir")",
            GetReservoirRuleDay: "@Url.Action("GetReservoirRuleDay", "Reservoir")",
            GetReservoirDataAverage: "@Url.Action("GetReservoirDataAverage", "Reservoir")",
            GetHistoryReservoirTimeSeriesData: "@Url.Action("GetHistoryReservoirTimeSeriesData", "Reservoir")",
            GetReservoirRuleTimeSeriesData: "@Url.Action("GetReservoirRuleTimeSeriesData", "Reservoir")",
            GetPiValueTimeSeriesData: "@Url.Action("GetPiValueTimeSeriesData", "Reservoir")",
            GetAllReservoir: "@Url.Action("GetAllReservoirList", "RainfallAnalysis")",
            GetAllIrragation: "@Url.Action("GetAllIrragationList", "RainfallAnalysis")",
            GetAllStation: "@Url.Action("GetAllStationList", "RainfallAnalysis")",
            GetRainfallbyDay: "@Url.Action("GetRainfallbyDay", "RainfallAnalysis")",
            GetRainfallbyReservoir: "@Url.Action("GetRainfallbyReservoir", "RainfallAnalysis")",
        }
        let datatype = @type;
        //$('#TenDaysSelectionPart #StartDate').popover({
        //    animation: false,
        //    html: true,
        //    sanitize: false,
        //    placement: 'bottom',
        //    trigger: 'click',
        //    content: '<button type="button" id="button-image" class="btn btn-primary"><i class="mdi mdi-edit">1</i></button> <br><button type="button" id="button-clear" class="btn btn-danger"><i class="mdi mdi-trash-can-outline">2</i></button>',



    </script>
}